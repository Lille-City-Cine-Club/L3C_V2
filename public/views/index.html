<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="fr">
    <head>
        <!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
        <meta charset="utf-8" />
        <!-- Import de Bootstrap et de FontAwesome (pour les icônes)-->
        <link rel="stylesheet" href="../css/bootstrap.min.css">
        <link rel="stylesheet" href="../css/font-awesome.min.css" />
        
        <!-- Import de notre fichier css -->
        <link rel="stylesheet" href="../css/home.css"/>
        <link rel="stylesheet" href="../css/global.css"/>
        <link rel="stylesheet" href="../css/about.css"/>
        <link rel="stylesheet" href="../css/adminManagement.css"/>
        <link rel="stylesheet" href="../css/changeCarousel.css"/>
        <link rel="stylesheet" href="../css/changePass.css"/>
        <link rel="stylesheet" href="../css/error404.css"/>
        <link rel="stylesheet" href="../css/forgottenPass.css"/>
        <link rel="stylesheet" href="../css/inscription.css"/>
        <link rel="stylesheet" href="../css/login.css"/>
        <link rel="stylesheet" href="../css/redefinePass.css"/>
        <link rel="stylesheet" href="../css/suggestion.css"/>
        <link rel="stylesheet" href="../css/submitMovie.css"/>
        <link rel="stylesheet" href="../css/dashboard.css"/>
        <link rel="stylesheet" href="../css/allSuggestion.css"/>
        <link rel="stylesheet" href="../css/member.css"/>
        
        <!-- Import des fichiers Javacript-->
        <script src="../libs/jquery-1.9.1.min.js"></script>
        <script src="../libs/jquery.carouFredSel-6.0.4-packed.js"></script>

        <script src="../libs/angular/angular.min.js"></script>
        <script src="../libs/angular-route/angular-route.min.js"></script>

        <!-- Main Angular app-->
        <script src="../js/app.js"></script>
        
        <!-- Angular controler -->
        <script src="../js/controllers/HomeController.js"></script>
        <script src="../js/controllers/SuggestionController.js"></script>
        <script src="../js/controllers/AboutController.js"></script>
        <script src="../js/controllers/InscriptionController.js"></script>
        <script src="../js/controllers/LoginController.js"></script>
        <script src="../js/controllers/NavbarController.js"></script>
        <script src="../js/controllers/404Controller.js"></script>
        <script src="../js/controllers/DashboardController.js"></script>
        <script src="../js/controllers/AllSuggestionController.js"></script>
        <script src="../js/controllers/MemberController.js"></script>
        <script src="../js/controllers/SuggestionByTitleController.js"></script>
        <script src="../js/controllers/NewSuggestionController.js"></script>
        
        
        <!-- Angular services -->
        <script src="../js/services/SuggestionService.js"></script>
        <script src="../js/services/SessionService.js"></script>
        <script src="../js/services/MemberService.js"></script>
        <script src="../js/services/LoginService.js"></script>
        <script src="../js/services/InscriptionService.js"></script>
        
        <!-- Angular directives -->
        <script src="../js/directives/myNavbar.js"></script>
        <script src="../js/directives/fileUpload.js"></script>


        <!--favicon-->
        <link rel="icon" type="image/png" href="../ressources/logo/favicon.png" />
        <title>L3C : Lille City Ciné Club</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    </head>
    <script>
        // for the drop down
        ( function( $ ) {
            $( document ).ready(function() {
                var activeElement = $('#cssmenu>ul>li:first');

                $('#cssmenu>ul>li').each(function() {
                    if ($(this).hasClass('active')) {
                        activeElement = $(this);
                    }
                });


                var posLeft = activeElement.position().left;
                var elementWidth = activeElement.width();
                posLeft = posLeft + elementWidth/2 -6;
                if (activeElement.hasClass('has-sub')) {
                    posLeft -= 6;
                }

                $('#cssmenu #pIndicator').css('left', posLeft);
                var element, leftPos, indicator = $('#cssmenu pIndicator');

                $("#cssmenu>ul>li").hover(function() {
                    element = $(this);
                    var w = element.width();
                    if ($(this).hasClass('has-sub'))
                    {
                        leftPos = element.position().left + w/2 - 12;
                    }
                    else {
                        leftPos = element.position().left + w/2 - 6;
                    }

                    $('#cssmenu #pIndicator').css('left', leftPos);
                }
                                          , function() {
                    $('#cssmenu #pIndicator').css('left', posLeft);
                });

                $('#cssmenu>ul').prepend('<li id="menu-button"><a>Menu</a></li>');
                $( "#menu-button" ).click(function(){
                    if ($(this).parent().hasClass('open')) {
                        $(this).parent().removeClass('open');
                    }
                    else {
                        $(this).parent().addClass('open');
                    }
                });
            });
        } )( jQuery );

        /*
        // to load the correct menu
        var sayMyName = function(){
            $.ajax({
                type:'POST',
                url:'whatsMyName',
                data:"",
                processData:false,
                contentType:false,

                success:function(content){
                    if(content.email){
                        if(!content.isAdmin){
                            console.log('Je suis un membre!');
                            $('#admin').hide();
                            $('#connection').hide();
                            $('#inscription').hide();
                            $('#member').show();
                        }else{
                            console.log('Je suis un admin!');
                            $('#connection').hide();
                            $('#inscription').hide();
                        }
                    }else{
                        console.log('Je suis un internaute!');
                        $('#admin').hide();
                        $('#member').hide();
                    }
                },
                error:function(){
                    alert('Error Ajax!');
                }
            });
        };
        */

        /*
        $(document).ready(function(){
            sayMyName();
        });
        */
    </script>
    <body ng-app="L3C_V2">
        <!-- logo+site -->
        <div class="logo-nav-wrapper">
            <!-- Regroupe le logo-->
            <div class="logo-wrapper">
                <div class="site-logo">
                    <a ng-href="#/">
                        <img src="../ressources/logo/L3C.jpg" alt="Lille City Cine Club" />
                    </a>
                </div>
            </div>
            
            <!-- le menu -->
<!--
            <div id='cssmenu'>
                <ul>
                    <li><a id="Seance" ng-href="#/suggestion">Le Film du mois</a></li>
                    <li id="connection"><a id="logIn" ng-href="#/login">Connexion</a></li>
                    <li id="inscription"><a id="logIn" ng-href="#/inscription">Inscription</a></li>
                    <li id="admin" class='active has-sub'><a ng-href='#/admin'><span>Administration</span></a>
                        <ul>
                            <li><a ng-href='#/admin-suggestion'><span>Soumettre un film</span></a></li>
                            <li><a ng-href='#/admin-carousel'><span>Modifier Carousel</span></a></li>
                            <li><a ng-href="#/admin-management"> <span> Gérer les Admins</span></a></li>
                        </ul>
                    </li>
                    <li id="member" class='active has-sub'><a href='#'><span>Gérer mon profil</span></a>
                        <ul>
                            <li><a ng-href='#/changePass'><span>Changer Mot de Passe</span></a></li>
                            <li><a ng-href='#/logout'><span>Déconnexion</span></a></li>
                        </ul>
                    </li>
                    <li><a id="about" ng-href="#/about">A propos</a></li>
                </ul>
            </div>	
-->
        </div>
        <div ng-view></div>
        <div class="footer-wrapper">
            <div id="menu-logo" >
                <a href="http://www.univ-lille1.fr/" target="_blank">
                    <img src="../ressources/logo/logoLille1Mini.png" alt="Université Lille1" >
                </a>
                <ul id="footer-menu">
                    <li><span class="fa fa-lg fa-facebook" style="margin-left:0.2%;"></span> <a href=http://www.facebook.com/LilleCityCineClub target="_blank" style="margin-left:0.8%"> Facebook </a></li>
                    <li><span class="glyphicon glyphicon-info-sign" style="font-size:16px;" ></span> <a ng-href="#/about" style="margin-left:0.5%"> A propos </a></li>
                </ul>
            </div>
            <div id="copyright">
                <p>
                    &copy Benny-P & DonDiego. En collaboration avec M.Dufrêne. Université Lille 1.
                </p>	
            </div>
        </div>
    </body>  
</html>
